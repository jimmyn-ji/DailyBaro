{"version":3,"file":"detail.js","sources":["pages/knowledge/detail.vue","pages/knowledge/detail.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"detail-container\">\n\t\t<view class=\"nav-bar\">\n\t\t\t<view class=\"nav-left\" @tap=\"goBack\">\n\t\t\t\t<text class=\"back-icon\">‚Üê</text>\n\t\t\t</view>\n\t\t\t<view class=\"nav-title\">Áü•ËØÜËØ¶ÊÉÖ</view>\n\t\t\t<view class=\"nav-right\"></view>\n\t\t</view>\n\t\t\n\t\t<view v-if=\"loading\" class=\"loading-section\">\n\t\t\t<text>Âä†ËΩΩ‰∏≠...</text>\n\t\t</view>\n\t\t\n\t\t<view v-else-if=\"knowledge\" class=\"content\">\n\t\t\t<view class=\"knowledge-card\">\n\t\t\t\t<view class=\"knowledge-header\">\n\t\t\t\t\t<text class=\"knowledge-title\">{{ knowledge.title }}</text>\n\t\t\t\t\t<view class=\"knowledge-meta\">\n\t\t\t\t\t\t<text class=\"knowledge-category\">{{ knowledge.category }}</text>\n\t\t\t\t\t\t<text v-if=\"knowledge.subcategory\" class=\"knowledge-subcategory\">{{ knowledge.subcategory }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"knowledge-content\">\n\t\t\t\t\t<text>{{ knowledge.content }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view v-if=\"knowledge.tags\" class=\"knowledge-tags\">\n\t\t\t\t\t<text class=\"tag-label\">Ê†áÁ≠æÔºö</text>\n\t\t\t\t\t<text class=\"tag-item\" v-for=\"tag in tagList\" :key=\"tag\">{{ tag }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"knowledge-footer\">\n\t\t\t\t\t<text class=\"view-count\">üëÅ {{ knowledge.viewCount || 0 }} Ê¨°ÊµèËßà</text>\n\t\t\t\t\t<text class=\"update-time\">{{ formatTime(knowledge.updateTime) }}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view v-else class=\"error-section\">\n\t\t\t<text>Âä†ËΩΩÂ§±Ë¥•</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { knowledgeApi } from '@/utils/api.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tknowledgeId: null,\n\t\t\tknowledge: null,\n\t\t\tloading: true\n\t\t}\n\t},\n\t\n\tcomputed: {\n\t\ttagList() {\n\t\t\tif (!this.knowledge || !this.knowledge.tags) return []\n\t\t\treturn this.knowledge.tags.split(',').filter(t => t.trim())\n\t\t}\n\t},\n\t\n\tonLoad(options) {\n\t\tif (options.id) {\n\t\t\tthis.knowledgeId = options.id\n\t\t\tthis.loadKnowledge()\n\t\t}\n\t},\n\t\n\tmethods: {\n\t\tgoBack() {\n\t\t\tuni.navigateBack()\n\t\t},\n\t\t\n\t\tasync loadKnowledge() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst baseUrl = this.getBaseUrl()\n\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\t\tconst uid = userInfo ? userInfo.uid : ''\n\t\t\t\t\n\t\t\t\tconst response = await uni.request({\n\t\t\t\t\turl: baseUrl + '/app/knowledge/' + this.knowledgeId,\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\theader: {\n\t\t\t\t\t\t'uid': uid\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif (response.data && response.data.code === 200) {\n\t\t\t\t\tthis.knowledge = response.data.data\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Âä†ËΩΩÁü•ËØÜËØ¶ÊÉÖÂ§±Ë¥•:', error)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\t\t\n\t\tformatTime(time) {\n\t\t\tif (!time) return ''\n\t\t\tconst date = new Date(time)\n\t\t\treturn date.toLocaleDateString('zh-CN')\n\t\t},\n\t\t\n\t\tgetBaseUrl() {\n\t\t\tconst config = require('@/utils/config.js')\n\t\t\treturn config.baseUrl || 'https://dailybaro.cn'\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.detail-container {\n\tmin-height: 100vh;\n\tbackground: #f5f7fa;\n}\n\n.nav-bar {\n\tbackground: white;\n\tpadding: 30rpx 40rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tborder-bottom: 1rpx solid #e5e7eb;\n}\n\n.nav-left {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.back-icon {\n\tfont-size: 36rpx;\n\tcolor: #6366f1;\n}\n\n.nav-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n}\n\n.content {\n\tpadding: 30rpx;\n}\n\n.knowledge-card {\n\tbackground: white;\n\tborder-radius: 20rpx;\n\tpadding: 40rpx;\n\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.knowledge-header {\n\tmargin-bottom: 30rpx;\n\tpadding-bottom: 20rpx;\n\tborder-bottom: 1rpx solid #e5e7eb;\n}\n\n.knowledge-title {\n\tfont-size: 36rpx;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tline-height: 1.5;\n\tmargin-bottom: 15rpx;\n\tdisplay: block;\n}\n\n.knowledge-meta {\n\tdisplay: flex;\n\tgap: 15rpx;\n\talign-items: center;\n}\n\n.knowledge-category {\n\tfont-size: 24rpx;\n\tpadding: 8rpx 16rpx;\n\tbackground: #e0e7ff;\n\tcolor: #6366f1;\n\tborder-radius: 12rpx;\n}\n\n.knowledge-subcategory {\n\tfont-size: 24rpx;\n\tpadding: 8rpx 16rpx;\n\tbackground: #f3f4f6;\n\tcolor: #6b7280;\n\tborder-radius: 12rpx;\n}\n\n.knowledge-content {\n\tfont-size: 30rpx;\n\tcolor: #374151;\n\tline-height: 2;\n\tmargin-bottom: 30rpx;\n}\n\n.knowledge-tags {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 10rpx;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n\tpadding-top: 20rpx;\n\tborder-top: 1rpx solid #e5e7eb;\n}\n\n.tag-label {\n\tfont-size: 24rpx;\n\tcolor: #9ca3af;\n}\n\n.tag-item {\n\tfont-size: 24rpx;\n\tpadding: 6rpx 12rpx;\n\tbackground: #f3f4f6;\n\tcolor: #6b7280;\n\tborder-radius: 8rpx;\n}\n\n.knowledge-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding-top: 20rpx;\n\tborder-top: 1rpx solid #e5e7eb;\n}\n\n.view-count,\n.update-time {\n\tfont-size: 24rpx;\n\tcolor: #9ca3af;\n}\n\n.loading-section,\n.error-section {\n\ttext-align: center;\n\tpadding: 100rpx 0;\n\tfont-size: 28rpx;\n\tcolor: #9ca3af;\n}\n</style>\n","import MiniProgramPage from '/Users/minchi/Desktop/DailyBaro/DailyBaro-app/src/pages/knowledge/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAiDA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,aAAa;AAAA,MACb,WAAW;AAAA,MACX,SAAS;AAAA,IACV;AAAA,EACD;AAAA,EAEA,UAAU;AAAA,IACT,UAAU;AACT,UAAI,CAAC,KAAK,aAAa,CAAC,KAAK,UAAU,KAAM,QAAO,CAAA;AACpD,aAAO,KAAK,UAAU,KAAK,MAAM,GAAG,EAAE,OAAO,OAAK,EAAE,KAAI,CAAE;AAAA,IAC3D;AAAA;EAGD,OAAO,SAAS;AACf,QAAI,QAAQ,IAAI;AACf,WAAK,cAAc,QAAQ;AAC3B,WAAK,cAAa;AAAA,IACnB;AAAA,EACD;AAAA,EAEA,SAAS;AAAA,IACR,SAAS;AACRA,oBAAAA,MAAI,aAAY;AAAA,IACjB;AAAA,IAEA,MAAM,gBAAgB;AACrB,WAAK,UAAU;AACf,UAAI;AACH,cAAM,UAAU,KAAK,WAAU;AAC/B,cAAM,WAAWA,oBAAI,eAAe,UAAU;AAC9C,cAAM,MAAM,WAAW,SAAS,MAAM;AAEtC,cAAM,WAAW,MAAMA,cAAAA,MAAI,QAAQ;AAAA,UAClC,KAAK,UAAU,oBAAoB,KAAK;AAAA,UACxC,QAAQ;AAAA,UACR,QAAQ;AAAA,YACP,OAAO;AAAA,UACR;AAAA,SACA;AAED,YAAI,SAAS,QAAQ,SAAS,KAAK,SAAS,KAAK;AAChD,eAAK,YAAY,SAAS,KAAK;AAAA,QAChC,OAAO;AACNA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAO;AAAA,YACP,MAAM;AAAA,WACN;AAAA,QACF;AAAA,MACD,SAAS,OAAO;AACfA,sBAAAA,MAAA,MAAA,SAAA,qCAAc,aAAa,KAAK;AAChCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,SACN;AAAA,MACF,UAAA;AACC,aAAK,UAAU;AAAA,MAChB;AAAA,IACD;AAAA,IAEA,WAAW,MAAM;AAChB,UAAI,CAAC,KAAM,QAAO;AAClB,YAAM,OAAO,IAAI,KAAK,IAAI;AAC1B,aAAO,KAAK,mBAAmB,OAAO;AAAA,IACvC;AAAA,IAEA,aAAa;AACZ,YAAM,SAAS,QAAQ,mBAAmB;AAC1C,aAAO,OAAO,WAAW;AAAA,IAC1B;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzHA,GAAG,WAAW,eAAe;"}