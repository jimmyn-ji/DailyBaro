{"version":3,"file":"recommendations.js","sources":["pages/recommendations/recommendations.vue","pages/recommendations/recommendations.vue?type=page"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<view class=\"nav\">\n\t\t\t<button class=\"back\" @tap=\"goBack\">返回</button>\n\t\t\t<text class=\"title\">个性化推荐</text>\n\t\t</view>\n\t\t<view class=\"content\">\n\t\t\t<button class=\"refresh\" @tap=\"load\" :disabled=\"loading\">{{ loading ? '加载中...' : '刷新推荐' }}</button>\n\t\t\t<view v-if=\"data\">\n\t\t\t\t<view class=\"section\">\n\t\t\t\t\t<text class=\"label\">趋势主情绪：</text>\n\t\t\t\t\t<text class=\"value\">{{ data.dominantEmotion }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"data.advice\" class=\"section\">\n\t\t\t\t\t<text class=\"label\">建议：</text>\n\t\t\t\t\t<text class=\"value\">{{ data.advice.tip }}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"list\">\n\t\t\t\t\t<view v-for=\"(item, idx) in data.items\" :key=\"idx\" class=\"card\">\n\t\t\t\t\t\t<text class=\"card-title\">{{ item.title }}</text>\n\t\t\t\t\t\t<text class=\"card-sub\">消耗能量：{{ item.energyRequired }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view v-else class=\"empty\">暂无推荐</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { recommendationApi } from '../../utils/api.js'\n\nexport default {\n\tdata() {\n\t\treturn { loading: false, data: null }\n\t},\n\tonLoad() {\n\t\tthis.load()\n\t},\n\tmethods: {\n\t\tgoBack() { uni.navigateBack() },\n\t\tasync load() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\tconst res = await recommendationApi.get()\n\t\t\t\tif (res && res.code === 200) {\n\t\t\t\t\tthis.data = res.data || null\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({ title: res?.message || '加载失败', icon: 'none' })\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('加载推荐失败', e)\n\t\t\t\tuni.showToast({ title: '加载失败', icon: 'none' })\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n\n<style scoped>\n.container { min-height: 100vh; background: #f7f7fb; }\n.nav { display: flex; align-items: center; justify-content: space-between; padding: 24rpx; background: #fff; box-shadow: 0 2rpx 12rpx rgba(0,0,0,0.04); }\n.title { font-size: 32rpx; font-weight: 700; color: #111827; }\n.back { background: #e5e7eb; border: none; padding: 12rpx 20rpx; border-radius: 12rpx; }\n.content { padding: 24rpx; }\n.refresh { width: 100%; background: linear-gradient(135deg, #4a90e2, #6aa8ff); color: #fff; border: none; padding: 24rpx; border-radius: 16rpx; }\n.section { margin: 20rpx 0; }\n.label { color: #6b7280; font-size: 26rpx; }\n.value { color: #111827; font-size: 28rpx; font-weight: 600; }\n.list { display: flex; flex-direction: column; gap: 16rpx; margin-top: 16rpx; }\n.card { background: #fff; border-radius: 16rpx; padding: 24rpx; box-shadow: 0 2rpx 8rpx rgba(0,0,0,0.04); }\n.card-title { font-size: 28rpx; font-weight: 700; color: #111827; display: block; margin-bottom: 6rpx; }\n.card-sub { font-size: 24rpx; color: #9ca3af; }\n.empty { text-align: center; color: #9ca3af; padding: 60rpx 0; }\n</style>\n","import MiniProgramPage from '/Users/minchi/Desktop/DailyBaro/DailyBaro-app/src/pages/recommendations/recommendations.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","recommendationApi"],"mappings":";;;AAgCA,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO,EAAE,SAAS,OAAO,MAAM,KAAG;AAAA,EACnC;AAAA,EACA,SAAS;AACR,SAAK,KAAI;AAAA,EACV;AAAA,EACA,SAAS;AAAA,IACR,SAAS;AAAEA,oBAAAA,MAAI,aAAY;AAAA,IAAG;AAAA,IAC9B,MAAM,OAAO;AACZ,WAAK,UAAU;AACf,UAAI;AACH,cAAM,MAAM,MAAMC,UAAAA,kBAAkB,IAAG;AACvC,YAAI,OAAO,IAAI,SAAS,KAAK;AAC5B,eAAK,OAAO,IAAI,QAAQ;AAAA,QACzB,OAAO;AACND,8BAAI,UAAU,EAAE,QAAO,2BAAK,YAAW,QAAQ,MAAM,OAAK,CAAG;AAAA,QAC9D;AAAA,MACD,SAAS,GAAG;AACXA,sBAAAA,MAAA,MAAA,SAAA,mDAAc,UAAU,CAAC;AACzBA,sBAAAA,MAAI,UAAU,EAAE,OAAO,QAAQ,MAAM,QAAQ;AAAA,MAC9C,UAAA;AACC,aAAK,UAAU;AAAA,MAChB;AAAA,IACD;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;;;;;;ACzDA,GAAG,WAAW,eAAe;"}